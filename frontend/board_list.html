<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>게시판</title>
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
<div class="w3-content">
    <nav class="navbar">
        <div class="container">
            <a href="/index.html" class="nav-brand">MSA Project</a>
            <div class="nav-links">
                <a href="/board_list.html" class="nav-link">게시판</a>
                <a href="/blog_list.html" class="nav-link">블로그</a>
                <a href="/post_form.html" class="nav-link">글쓰기</a>
            </div>
            <div id="auth-links" class="nav-auth"></div>
        </div>
    </nav>
    <main class="container">
        <h1>게시판</h1>
        <div id="board-list"></div>
    </main>
</div>
<script>
async function fetchPosts() {
    const res = await fetch('/api/board/posts');
    const posts = await res.json();
    const list = document.getElementById('board-list');
    if (posts.length === 0) {
        list.innerHTML = "<p>게시글이 없습니다.</p>";
        return;
    }
    list.innerHTML = `<table class="styled-table">
        <thead><tr><th>번호</th><th>제목</th><th>작성자</th><th>태그</th></tr></thead>
        <tbody>
        ${posts.map(post => `
            <tr>
                <td>${post.id}</td>
                <td><a href="/post_detail.html?id=${post.id}">${post.title}</a></td>
                <td>${post.owner_id}</td>
                <td>${post.tags || ''}</td>
            </tr>
        `).join('')}
        </tbody>
    </table>`;
}
fetchPosts();
</script>
</body>
</html>